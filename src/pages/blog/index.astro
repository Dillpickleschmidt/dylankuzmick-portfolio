---
import { getCollection } from 'astro:content';
import Base from '../../layouts/Base.astro';
const posts = (await getCollection('blog')).sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
const [featured] = posts;
---

<Base title="Blog â€” Dylan Kuzmick">
	<section class="max-w-6xl mx-auto px-6 pt-12 md:pt-20 pb-8">
		<h1 class="font-display text-[clamp(3rem,8vw,7rem)] leading-[0.88] tracking-tight">
			BL<span class="text-accent">O</span>G
		</h1>
		<p class="mt-4 text-text-muted text-lg">Thoughts, process, and technical deep-dives.</p>
	</section>

	<!-- Featured post -->
	{featured && (
		<section class="max-w-6xl mx-auto px-6 pb-10">
			<a href={`/blog/${featured.id}`} class="group block">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10">
					<div class="aspect-[16/10] bg-surface flex items-center justify-center overflow-hidden">
						{featured.data.image ? (
							<img src={featured.data.image} alt="" class="w-full h-full object-cover" />
						) : (
							<span class="text-text-muted text-sm opacity-40">Image</span>
						)}
					</div>
					<div class="flex flex-col justify-center">
						<h2 class="text-3xl md:text-4xl font-semibold group-hover:text-accent transition-colors duration-150">{featured.data.title}</h2>
						<p class="text-text-muted mt-3 leading-relaxed">{featured.data.description}</p>
						<div class="flex items-center gap-3 mt-4">
							<span class="w-6 h-6 rounded-full bg-accent inline-block"></span>
							<span class="text-sm text-text-muted">Dylan Kuzmick</span>
							<span class="text-sm text-text-muted">&middot;</span>
							<time class="text-sm text-text-muted">{featured.data.date}</time>
						</div>
					</div>
				</div>
			</a>
		</section>
	)}

	<!-- Divider -->
	<div class="max-w-6xl mx-auto px-6">
		<hr class="border-border" />
	</div>

	<!-- Latest label -->
	<section class="max-w-6xl mx-auto px-6 pt-8 pb-6">
		<h3 class="text-sm font-medium uppercase tracking-[0.15em] text-text-muted">Latest</h3>
	</section>

	<!-- Posts grid -->
	<section class="max-w-6xl mx-auto px-6 pb-16">
		<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-10">
			<div class="block">
				<div class="aspect-[16/10] bg-surface flex items-center justify-center mb-4">
					<span class="text-text-muted text-sm opacity-40">Image</span>
				</div>
				<h3 class="font-semibold text-base leading-snug text-text-muted">Coming Soon</h3>
				<p class="text-sm text-text-muted mt-1.5 leading-relaxed">Stay tuned for more posts.</p>
				<div class="flex items-center gap-2 mt-3">
					<span class="text-xs text-text-muted">TBD</span>
				</div>
			</div>
		</div>
	</section>
</Base>
